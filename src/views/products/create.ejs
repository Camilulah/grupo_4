<!DOCTYPE html>
<html lang="en">
        <!--Head-->
        <%-include('../partials/head.ejs', {title: 'Crear', style:'/products/createForm'})%>
        <link rel="stylesheet" href="/css/index.css">
    </head>
<body>
    <%-include('../partials/header.ejs')%>
    <br>
    <div class="container-flex">
    <form method="POST" action="/product/create" enctype="multipart/form-data"><br>
        <h1>Crear producto</h1><br><hr><br><br>
        <label for="nombre">Nombre</label>
        <p class="form-error error-nombre">(Este campo no puede estar vacío)</p>
        <input type="text" name="nombre" id="nombre" value="<%= locals.errors && old.nombre ? old.nombre : ''%>">
        <label for="marca">Marca</label>
        <p class="form-error error-marca">(Este campo no puede estar vacío)</p>
        <input type="text" name="marca" id="marca" value="<%= locals.errors && old.marca ? old.marca : ''%>">
        <label for="precio">Precio</label>
        <p class="form-error error-precio">(Este campo no puede estar vacío)</p>
        <input type="number" name="precio" id="precio" value="<%= locals.errors && old.precio ? old.precio : ''%>">
        <label for="cuotas">Cuotas</label>
        <p class="form-error error-cuotas">(Este campo no puede estar vacío)</p>
        <input type="number" name="cuotas" id="cuotas" value="<%= locals.errors && old.cuotas ? old.cuotas : ''%>">
        <label for="descuento">Descuento</label>
        <p class="form-error error-descuento">(Este campo no puede estar vacío)</p>
        <input type="number" name="descuento" id="descuento" value="<%= locals.errors && old.descuento ? old.descuento : ''%>">
        <label for="Stock">Stock</label>
        <p class="form-error error-stock">(Este campo no puede estar vacío)</p>
        <input type="number" name="stock" id="stock" value="<%= locals.errors && old.stock ? old.stock : ''%>">
        <label for="descripcion">Descripcion</label>
        <p class="form-error error-descripcion" >(Este campo no puede estar vacío)</p>
        <input type="text" name="descripcion" id="descripcion" value="<%= locals.errors && old.descripcion ? old.descripcion : ''%>">
        <label for="descripcion">Descripcion Larga</label>
        <p class="form-error error-descripcionLarga">(Este campo no puede estar vacío)</p>
        <p>
        <textarea id="descripcionLarga" name="descripcionLarga" rows="4" cols="50"></textarea>
        </p>
        <label for="color">Color</label>
        <p class="form-error error-color">(Este campo no puede estar vacío)</p>
        <p>Escribir los colores separados por coma, sin espacios y con mayus al inicio: Rojo,Verde,Amarillo</p>
        <input type="text" name="color" id="color" value="<%= locals.errors && old.color ? old.color : ''%>">
        <label for="talles">Talles</label>
        <p>Escribir los talles separados por coma y sin espacios: 42,37,38</p>
        <p class="form-error error-talle">(Este campo no puede estar vacío)</p>
        <input type="text" name="talle" id="talles" value="<%= locals.errors && old.talle ? old.talle : ''%>"><br>
        <h2>Especificaciones</h2><br>
        <label for="capellada">Capellada</label>
        <p class="form-error error-capellada">(Este campo no puede estar vacío)</p>
        <input type="text" name="capellada" id="capellada" value="<%= locals.errors && old.capellada ? old.capellada : ''%>">
        <label for="forro">Forro</label>
        <p class="form-error error-forro">(Este campo no puede estar vacío)</p>
        <input type="text" name="forro" id="forro" value="<%= locals.errors && old.forro ? old.forro : ''%>">
        <label for="suela">Suela</label>
        <p class="form-error error-suela">(Este campo no puede estar vacío)</p>
        <input type="text" name="suela" id="suela" value="<%= locals.errors && old.suela ? old.suela : ''%>">
        <label for="origen">Origen</label>
        <p class="form-error error-origen">(Este campo no puede estar vacío)</p>
        <input type="text" name="origen" id="origen" value="<%= locals.errors && old.origen ? old.origen : ''%>">
        <label>Imagen del producto</label>
        <% if(locals.errors) {%>
            <% errors.forEach(error => { %>
            <% if(error.path == 'product-image') {%>
            <p style="color: red"><%= error.msg %></p>
        <% }})} %>    
        <input type="file" name="product-image">

        <button type="submit">Enviar</button>
    </form>
    <style>
        <% if (locals.errors) { %>
            <% errors.forEach(error => { %>
                .error-<%= error.path %> {
                    display: block;
                }
            <% }) %>
        <% } %>
    </style>
    
</div>


    <!--Footer-->  
    <%-include('../partials/footer.ejs')%>
</body>
</html>